<!doctype html><html><head><meta charset="utf-8" /><title>Preview conv_h</title><link href="/bab/assets/index.css" rel="stylesheet" /><script src="/bab/assets/pretty_previews.js" type="module" defer></script><link href="/bab/assets/pseudocode.css" rel="stylesheet" /><script src="/bab/assets/pseudocode.js" type="module" defer></script><script src="/bab/assets/defs.js" type="module" defer></script></head><body class="isPreview"><div id="wrapContent"><p>Given a conventional, secure hash function <dfn id="conv_h"><a class="rustic function" data-ref="conv_h" data-preview-anchor="/bab/previews/conv_h.html?def§conv_h" data-hl="true" href="#conv_h">h</a></dfn> of digest size <dfn id="conv_width"><a class="rustic value" data-ref="conv_width" data-preview-anchor="/bab/previews/conv_width.html?def§conv_width" data-hl="true" href="#conv_width">w</a></dfn>, we can instantiate Bab for a <a class="rustic value" data-ref="width" data-preview-anchor="/bab/previews/width.html?def§width" data-hl="true" href="#width">width</a> of <a class="rustic value" data-ref="conv_width" data-preview-anchor="/bab/previews/conv_width.html?def§conv_width" data-hl="true" href="#conv_width">w</a> and an arbitrary <a class="rustic value" data-ref="chunk_size" data-preview-anchor="/bab/previews/chunk_size.html?def§chunk_size" data-hl="true" href="#chunk_size">chunk_size</a>.</p><p>Define <a class="rustic function" data-ref="hash_chunk" data-preview-anchor="/bab/previews/hash_chunk.html?def§hash_chunk" data-hl="true" href="#hash_chunk">hash_chunk</a><span class="rb1 open">(</span><dfn id="conv_chunk_chunk"><a class="rustic value" data-ref="conv_chunk_chunk" data-preview-anchor="/bab/previews/conv_chunk_chunk.html?def§conv_chunk_chunk" data-hl="true" href="#conv_chunk_chunk">chunk</a></dfn><span class="deemph">,</span> <dfn id="conv_chunk_i"><a class="rustic value" data-ref="conv_chunk_i" data-preview-anchor="/bab/previews/conv_chunk_i.html?def§conv_chunk_i" data-hl="true" href="#conv_chunk_i">index</a></dfn><span class="deemph">,</span> <dfn id="conv_chunk_root"><a class="rustic value" data-ref="conv_chunk_root" data-preview-anchor="/bab/previews/conv_chunk_root.html?def§conv_chunk_root" data-hl="true" href="#conv_chunk_root">is_root</a></dfn><span class="rb1 close">)</span> as applying <a class="rustic function" data-ref="conv_h" data-preview-anchor="/bab/previews/conv_h.html?def§conv_h" data-hl="true" href="#conv_h">h</a> to the concatenation of<ul><li>the byte <code>0x00</code> if <a class="rustic value" data-ref="conv_chunk_root" data-preview-anchor="/bab/previews/conv_chunk_root.html?def§conv_chunk_root" data-hl="true" href="#conv_chunk_root">is_root</a> is <code>false</code>, or the byte <code>0x01</code> otherwise,</li><li><a class="rustic value" data-ref="conv_chunk_chunk" data-preview-anchor="/bab/previews/conv_chunk_chunk.html?def§conv_chunk_chunk" data-hl="true" href="#conv_chunk_chunk">chunk</a>.</li></ul></p><p>Define <a class="rustic function" data-ref="hash_inner" data-preview-anchor="/bab/previews/hash_inner.html?def§hash_inner" data-hl="true" href="#hash_inner">hash_inner</a><span class="rb1 open">(</span><dfn id="conv_inner_l"><a class="rustic value" data-ref="conv_inner_l" data-preview-anchor="/bab/previews/conv_inner_l.html?def§conv_inner_l" data-hl="true" href="#conv_inner_l">left</a></dfn><span class="deemph">,</span> <dfn id="conv_inner_r"><a class="rustic value" data-ref="conv_inner_r" data-preview-anchor="/bab/previews/conv_inner_r.html?def§conv_inner_r" data-hl="true" href="#conv_inner_r">right</a></dfn><span class="deemph">,</span> <dfn id="conv_inner_len"><a class="rustic value" data-ref="conv_inner_len" data-preview-anchor="/bab/previews/conv_inner_len.html?def§conv_inner_len" data-hl="true" href="#conv_inner_len">len</a></dfn><span class="deemph">,</span> <dfn id="conv_inner_root"><a class="rustic value" data-ref="conv_inner_root" data-preview-anchor="/bab/previews/conv_inner_root.html?def§conv_inner_root" data-hl="true" href="#conv_inner_root">is_root</a></dfn><span class="rb1 close">)</span> as applying <a class="rustic function" data-ref="conv_h" data-preview-anchor="/bab/previews/conv_h.html?def§conv_h" data-hl="true" href="#conv_h">h</a> to the concatenation of<ul><li>the byte <code>0x02</code> if <a class="rustic value" data-ref="conv_inner_root" data-preview-anchor="/bab/previews/conv_inner_root.html?def§conv_inner_root" data-hl="true" href="#conv_inner_root">is_root</a> is <code>false</code>, or the byte <code>0x03</code> otherwise,</li><li><a class="rustic value" data-ref="conv_inner_len" data-preview-anchor="/bab/previews/conv_inner_len.html?def§conv_inner_len" data-hl="true" href="#conv_inner_len">len</a> encoded as an unsigned big-endian 64-bit integer,</li><li><a class="rustic value" data-ref="conv_inner_l" data-preview-anchor="/bab/previews/conv_inner_l.html?def§conv_inner_l" data-hl="true" href="#conv_inner_l">left</a>, and</li><li><a class="rustic value" data-ref="conv_inner_r" data-preview-anchor="/bab/previews/conv_inner_r.html?def§conv_inner_r" data-hl="true" href="#conv_inner_r">right</a>.</li></ul></p></div></body></html>