<!doctype html><html><head><meta charset="utf-8" /><title>Preview length_len</title><link href="/bab/assets/index.css" rel="stylesheet" /><script src="/bab/assets/pretty_previews.js" type="module" defer></script><link href="/bab/assets/pseudocode.css" rel="stylesheet" /><script src="/bab/assets/pseudocode.js" type="module" defer></script><script src="/bab/assets/defs.js" type="module" defer></script></head><body class="isPreview"><div id="wrapContent"><p>A <dfn id="length"><a class="rustic type" data-ref="length" data-preview-anchor="/bab/previews/length.html?def§length" data-hl="true" href="#length">Length</a></dfn> request consists of a single Bab digest, and asks for the length of a string that hashes to that digest.<span class="marginale">Bao, unlike Bab, can certify a length only by transmitting the full string.</span> The server can issue two valid responses: either a reply to indicate that the server does not know of a corresponding string, or the length of the string, followed by a length proof. If the length is less than or equal to <a class="rustic value" data-ref="chunk_size" data-preview-anchor="/bab/previews/chunk_size.html?def§chunk_size" data-hl="true" href="#chunk_size">chunk_size</a>, the length proof is simply the string itself, verifiable by the client by hashing the string and asserting that it hashes to the original digest. If the length is greater than <a class="rustic value" data-ref="chunk_size" data-preview-anchor="/bab/previews/chunk_size.html?def§chunk_size" data-hl="true" href="#chunk_size">chunk_size</a>, then the corresponding Merkle tree has an inner vertex as a root. The length proof then consists of the labels of the left and the right child of the root vertex. The client verifies this proof by asserting that <a class="rustic function" data-ref="hash_inner" data-preview-anchor="/bab/previews/hash_inner.html?def§hash_inner" data-hl="true" href="#hash_inner">hash_inner</a><span class="rb1 open">(</span><dfn id="length_left"><a class="rustic value" data-ref="length_left" data-preview-anchor="/bab/previews/length_left.html?def§length_left" data-hl="true" href="#length_left">left</a></dfn><span class="deemph">,</span> <dfn id="length_right"><a class="rustic value" data-ref="length_right" data-preview-anchor="/bab/previews/length_right.html?def§length_right" data-hl="true" href="#length_right">right</a></dfn><span class="deemph">,</span> <dfn id="length_len"><a class="rustic value" data-ref="length_len" data-preview-anchor="/bab/previews/length_len.html?def§length_len" data-hl="true" href="#length_len">len</a></dfn><span class="deemph">,</span> true<span class="rb1 close">)</span> is equal to the original digest.</p></div></body></html>